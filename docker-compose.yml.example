services:
  gcli-nexus:
    image: ghcr.io/Yoo1tic/gcli-nexus:latest
    container_name: gcli-nexus
    ports:
      - "8188:8188"
    environment:
      # Required configuration
      NEXUS_KEY: pwd

      # HTTP server listen address and port.
      LISTEN_ADDR: 0.0.0.0
      LISTEN_PORT: 8188

      # Optional configuration
      LOGLEVEL: info

      DATABASE_URL: sqlite:///app/data/data.db

      CRED_PATH: /app/credentials

      BIGMODEL_LIST: "[gemini-2.5-pro]"

      OAUTH_TPS: 5

      # Optional outbound HTTP proxy (scheme://user:pass@host:port). Remove if unused.
      # PROXY="http://username:password@proxy.company.com:8080"

    volumes:
      # Persist SQLite database
      - ./data:/app/data
      # Optional: mount credentials directory
      - ./credentials:/app/credentials:ro

    # Restart policy
    restart: unless-stopped
